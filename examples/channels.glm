// Copyright 2018 The Golem Language Authors. All rights reserved.
// Use of this source code is governed by a MIT-style
// license that can be found in the LICENSE file.

fn sum(a, c) {
    let total = 0
    for v in a {
        total += v
    }
    c.send(total)
}

let a = [7, 2, 8, -9, 4, 0]
let n = len(a) / 2
let c = chan()

go sum(a[:n], c)
go sum(a[n:], c)
let x = c.recv()
let y = c.recv()
assert([x, y] == [-5, 17])
