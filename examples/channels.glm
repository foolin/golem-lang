// Copyright 2018 The Golem Language Authors. All rights reserved.
// Use of this source code is governed by a MIT-style
// license that can be found in the LICENSE file.

fn sum(a, c) {
    let total = 0
    for v in a {
        total += v
    }
    c.send(total)
}

let a = [1, 2, 3, 4, 5, 6]
let n = len(a) / 2
let c = chan()

go sum(a[:n], c)
go sum(a[n:], c)

assert([c.recv(), c.recv()] == [15, 6])
