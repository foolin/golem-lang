// Copyright 2018 The Golem Language Authors. All rights reserved.
// Use of this source code is governed by a MIT-style
// license that can be found in the LICENSE file.

import path

fn testExt() {
    assert(['.txt', ''] == 
        [path.filepath.ext('abc.txt'),
         path.filepath.ext('abc')])
}

fn testWalk() {
    let list = []

    path.filepath.walk('./bench_test/data', fn(name, info) {
        list.add((name, info.isDir, path.filepath.ext(name)))
    })
    assert([ 
        ('./bench_test/data', true, ''), 
        ('bench_test/data/dir', true, ''), 
        ('bench_test/data/empty', false, ''), 
        ('bench_test/data/lines.txt', false, '.txt') ] == list)
}

fn main(args) {
    testExt()
    testWalk()
}
